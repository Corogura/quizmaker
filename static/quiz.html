<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Maker - Quiz</title>
</head>

<body class="section">
    <h1>Quiz: <span id="quizTitle"></span></h1>
    <div id="questionSection" class="section">
        <h2>Questions</h2>
        <div id="questionsContainer"></div>
        <button onclick="editQuiz()">Edit Quiz</button>
    </div>

    <button onclick="goBack()">Back to Quizzes</button>

    <script>
        let currentUserRefreshToken = localStorage.getItem('refresh_token');
        let currentUserJWT = localStorage.getItem('jwt');
        let currentUser = localStorage.getItem('user');

        loadQuestions();

        async function loadQuestions() {
            const response = await fetch(`${window.location.pathname}/questions`, {
                method: 'GET'
            });

            if (response.ok) {
                const questions = await response.json();
                const questionsContainer = document.getElementById('questionsContainer');
                questionsContainer.innerHTML = '';
                questions.forEach(question => {
                    const questionDiv = document.createElement('div');
                    questionDiv.innerText = question.text;
                    questionsContainer.appendChild(questionDiv);
                });
            } else {
                alert('Error loading questions.');
            }
        }

        function goBack() {
            window.location.href = '/';
        }
    </script>
</html>